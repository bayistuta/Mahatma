<ion-view view-title="审核订单" class="order-list has-footer">
  <ion-nav-bar class="bar-custom" align-title="center">
    <ion-nav-buttons  side="right">
      <div class="item-input-inset" ng-show="approvesCtrl.isShowSearchTextBox">
			  <label class="item-input-wrapper">
				<i class="icon ion-ios-search placeholder-icon"></i>
				<input type="search" placeholder="订单号搜索" ng-model="approvesCtrl.nameFilter" style="width:300px">
			  </label>
		  </div>
      <i class="icon ion-search icon-nav-search" ng-click="approvesCtrl.showSearch()"></i>
    </ion-nav-buttons>
  </ion-nav-bar>
  <ion-content >
     <ion-refresher
      pulling-text="数据刷新中......"
      on-refresh="approvesCtrl.doRefresh()">
    </ion-refresher>
    <ion-list>
      <ion-item ng-repeat="order in approvesCtrl.orders">
        <div class="order-header">
            <ion-checkbox class="checkbox-dark checkbox-square" ng-model="order.isSelected"></ion-checkbox>
            <span class="order-code">订单号：{{order.Osn}}</span>
        </div>
        <div class="order-goods">
           <div class="row">
             <div class="col">
                  <span >商品：{{order.ProductName}}</span></div>
              <div class="col">
                  <span >下单时间：{{order.AddTime | date:'yyyy-MM-dd HH:mm:ss'}}</span></div>
            </div>
            <div class="row">
              <div class="col">
                  <span >下单数量：{{order.ProductCount}}</span></div>
              <div class="col">
                  <span >购物金额：{{order.OrderAmount.toFixed(2)}}</span></div>
            </div>
            <div class="row">
                <div class="col">
                    <span >现金支付：{{order.CashMoney.toFixed(2)}}</span></div>
                <div class="col">
                    <span >红包支付：{{order.CreditMoney.toFixed(2)}}</span></div>
            </div>
        </div>
        <div class="order-footer">
          <a class="detail-button"  ng-click="approvesCtrl.approveOrder(order)">
          </a>
        </div>
      </ion-item>
    </ion-list>
    <ion-infinite-scroll
      immediate-check="false"
      on-infinite="approvesCtrl.loadMore()"
      ng-if="!approvesCtrl.noMoreData"
      distance="1%">
    </ion-infinite-scroll>
  </ion-content>
  <ion-footer-bar align-title="left" class="approve-bar">
     <span class="selectAll" ng-click="approvesCtrl.selectAll()">全选</span>
     <ion-checkbox class="checkbox-positive checkbox-circle" ng-change="approvesCtrl.selectAll()" ng-model="approvesCtrl.isSelectedAll"></ion-checkbox>
     <div class="summary">
       <span>总数：{{approvesCtrl.totalNumber}}</span><br/>
       <span>总额：{{approvesCtrl.totalAmount.toFixed(2)}}</span>
     </div>
     <div class="approve-button">
       <a ng-click="approvesCtrl.approve()">
       </a>
     </div>
  </ion-footer-bar>
</ion-view>